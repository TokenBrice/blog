{{- $lang := .Page.Language.Lang -}}
{{- $categories := index .Site.Data.glossary.categories $lang -}}

<div class="glossary-categories-overview">
    {{- range $categories -}}
    <div class="category-card clickable-category" data-category-id="{{ .id }}" role="button" tabindex="0" title="{{ T "glossaryCategoryFilter" }}">
        <div class="category-header">
            <div class="category-icon" data-category-id="{{ .id }}"></div>
            <div class="category-title-group">
                <h3 class="category-name">{{ .name }}</h3>
                <span class="category-count">
                    {{- $termCount := len (where (index $.Site.Data.glossary $lang).terms "category" .id) -}}
                    {{ if eq $lang "fr" }}{{ $termCount }} terme{{ if ne $termCount 1 }}s{{ end }}{{ else }}{{ $termCount }} term{{ if ne $termCount 1 }}s{{ end }}{{ end }}
                </span>
            </div>
        </div>
        <p class="category-description">{{ .description }}</p>
    </div>
    {{- end -}}
</div>

{{ $catJS := resources.Get "js/glossary-categories.js" | minify | fingerprint }}
<script src="{{ $catJS.RelPermalink }}" defer></script>
